
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Less（二）-语言特性 | Never&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Never">
    

    
    <meta name="description" content="上一篇Blog简单介绍了Less及其用法，本篇将着力介绍其语言特性。
作为一种 CSS 扩展, Less 不仅向后兼容 CSS, 它还使用现有的 CSS 语法新增了额外的特性. 这使得学习 Less 更轻松, 一旦有任何问题，可以随时退回使用标准的 CSS.">
<meta property="og:type" content="article">
<meta property="og:title" content="Less（二）-语言特性">
<meta property="og:url" content="http://xfhnever.com/2014/07/28/less-languagefeatures/index.html">
<meta property="og:site_name" content="Never's Blog">
<meta property="og:description" content="上一篇Blog简单介绍了Less及其用法，本篇将着力介绍其语言特性。
作为一种 CSS 扩展, Less 不仅向后兼容 CSS, 它还使用现有的 CSS 语法新增了额外的特性. 这使得学习 Less 更轻松, 一旦有任何问题，可以随时退回使用标准的 CSS.">
<meta property="og:updated_time" content="2015-10-01T13:43:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Less（二）-语言特性">
<meta name="twitter:description" content="上一篇Blog简单介绍了Less及其用法，本篇将着力介绍其语言特性。
作为一种 CSS 扩展, Less 不仅向后兼容 CSS, 它还使用现有的 CSS 语法新增了额外的特性. 这使得学习 Less 更轻松, 一旦有任何问题，可以随时退回使用标准的 CSS.">
<link rel="publisher" href="XFHNever## e.g. "111190881341800841449" for https://plus.google.com/u/0/111190881341800841449, the "" is needed!">

    
    <link rel="alternative" href="/atom.xml" title="Never&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Never&#39;s Blog" title="Never&#39;s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Never&#39;s Blog">Never&#39;s Blog</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:xfhnever.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/07/28/less-languagefeatures/" title="Less（二）-语言特性" itemprop="url">Less（二）-语言特性</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/XFHNever## e.g. &quot;111190881341800841449&quot; for https://plus.google.com/u/0/111190881341800841449, the &quot;&quot; is needed!?rel=author" title="Never" target="_blank" itemprop="author">Never</a>
		
  <p class="article-time">
    <time datetime="2014-07-28T14:36:45.000Z" itemprop="datePublished"> 发表于 Jul 28 2014</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#变量(Variables）"><span class="toc-number">1.</span> <span class="toc-text">变量(Variables）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#变量插值（Variable_Interpolation）"><span class="toc-number">1.1.</span> <span class="toc-text">变量插值（Variable Interpolation）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extend(扩展)"><span class="toc-number">2.</span> <span class="toc-text">Extend(扩展)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#extend准确匹配"><span class="toc-number">2.1.</span> <span class="toc-text">extend准确匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extend_all"><span class="toc-number">2.2.</span> <span class="toc-text">Extend all</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extend中的选择器插值"><span class="toc-number">2.3.</span> <span class="toc-text">Extend中的选择器插值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#作用域/@media内的extend"><span class="toc-number">2.4.</span> <span class="toc-text">作用域/@media内的extend</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#混合（Mixins）"><span class="toc-number">3.</span> <span class="toc-text">混合（Mixins）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#不输出混合集"><span class="toc-number">3.1.</span> <span class="toc-text">不输出混合集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带选择器的混合集"><span class="toc-number">3.2.</span> <span class="toc-text">带选择器的混合集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命名空间"><span class="toc-number">3.3.</span> <span class="toc-text">命名空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#!important关键字"><span class="toc-number">3.4.</span> <span class="toc-text">!important关键字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#带参混合（Parametric_Mixins）"><span class="toc-number">4.</span> <span class="toc-text">带参混合（Parametric Mixins）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#多个参数"><span class="toc-number">4.1.</span> <span class="toc-text">多个参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命名参数"><span class="toc-number">4.2.</span> <span class="toc-text">命名参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#@arguments变量"><span class="toc-number">4.3.</span> <span class="toc-text">@arguments变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#高级参数和@rest变量"><span class="toc-number">4.4.</span> <span class="toc-text">高级参数和@rest变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模式匹配"><span class="toc-number">4.5.</span> <span class="toc-text">模式匹配</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#作为函数使用的Mixins(Mixinss_as_Functions)"><span class="toc-number">5.</span> <span class="toc-text">作为函数使用的Mixins(Mixinss as Functions)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Passing_Rulesets_to_Mixins"><span class="toc-number">6.</span> <span class="toc-text">Passing Rulesets to Mixins</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Import_Directives"><span class="toc-number">7.</span> <span class="toc-text">Import Directives</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文件扩展名"><span class="toc-number">7.1.</span> <span class="toc-text">文件扩展名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Import_Options"><span class="toc-number">8.</span> <span class="toc-text">Import Options</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#reference"><span class="toc-number">8.1.</span> <span class="toc-text">reference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#inline"><span class="toc-number">8.2.</span> <span class="toc-text">inline</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less"><span class="toc-number">8.3.</span> <span class="toc-text">less</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css"><span class="toc-number">8.4.</span> <span class="toc-text">css</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#once"><span class="toc-number">8.5.</span> <span class="toc-text">once</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multiple"><span class="toc-number">8.6.</span> <span class="toc-text">multiple</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mixin_Guards"><span class="toc-number">9.</span> <span class="toc-text">Mixin Guards</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Guard中的比较运算符"><span class="toc-number">9.1.</span> <span class="toc-text">Guard中的比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Guard_logical_operators"><span class="toc-number">9.2.</span> <span class="toc-text">Guard logical operators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类型检查"><span class="toc-number">9.3.</span> <span class="toc-text">类型检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带条件的mixins"><span class="toc-number">9.4.</span> <span class="toc-text">带条件的mixins</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS_Guards"><span class="toc-number">10.</span> <span class="toc-text">CSS Guards</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Loops"><span class="toc-number">11.</span> <span class="toc-text">Loops</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Merge"><span class="toc-number">12.</span> <span class="toc-text">Merge</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#逗号"><span class="toc-number">12.1.</span> <span class="toc-text">逗号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#空格"><span class="toc-number">12.2.</span> <span class="toc-text">空格</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Parent_Selectors"><span class="toc-number">13.</span> <span class="toc-text">Parent Selectors</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#多个&"><span class="toc-number">13.1.</span> <span class="toc-text">多个&</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#改变选择器顺序"><span class="toc-number">13.2.</span> <span class="toc-text">改变选择器顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组合使用的爆炸效果"><span class="toc-number">13.3.</span> <span class="toc-text">组合使用的爆炸效果</span></a></li></ol></li></ol>
		
		</div>
		
		<p>上一篇Blog简单介绍了Less及其用法，本篇将着力介绍其语言特性。</p>
<p>作为一种 CSS 扩展, Less 不仅向后兼容 CSS, 它还使用现有的 CSS 语法新增了额外的特性. 这使得学习 Less 更轻松, 一旦有任何问题，可以随时退回使用标准的 CSS.<br><a id="more"></a></p>
<h2 id="变量(Variables）">变量(Variables）</h2><p>变量通过为你提供一种在一个地方管理一些值的方法让你的代码变得更容易维护：    </p>
<pre><code><span class="comment">// 变量</span>
<span class="variable">@link-color:</span>        <span class="hexcolor">#428bca</span>; <span class="comment">// sea blue</span>
<span class="variable">@link-color-hover:</span>  <span class="function">darken</span>(<span class="variable">@link-color</span>, <span class="number">10%</span>);

<span class="comment">// 用法</span>
<span class="tag">a</span>,
<span class="class">.link</span> {
  <span class="attribute">color</span>: <span class="variable">@link-color</span>;
}
<span class="tag">a</span><span class="pseudo">:hover</span> {
  <span class="attribute">color</span>: <span class="variable">@link-color-hover</span>;
}
<span class="class">.widget</span> {
  <span class="attribute">color</span>: <span class="hexcolor">#fff</span>;
  <span class="attribute">background</span>: <span class="variable">@link-color</span>;
}
</code></pre><p>变量是延迟加载的，在使用前不一定要预先声明。</p>
<p>在定义一个变量两次时，只会使用最后定义的变量，Less会从当前作用域中向上搜索。这个行为类似于CSS的定义中始终使用最后定义的属性值。例如：</p>
<pre><code><span class="variable">@var:</span> <span class="number">0</span>;
<span class="class">.class</span> {
  <span class="variable">@var:</span> <span class="number">1</span>;
  <span class="class">.brass</span> {
    <span class="variable">@var:</span> <span class="number">2</span>;
    <span class="attribute">three</span>: <span class="variable">@var</span>;
    <span class="variable">@var:</span> <span class="number">3</span>;
  }
  <span class="attribute">one</span>: <span class="variable">@var</span>;
}
</code></pre><p>编译为：</p>
<pre><code><span class="class">.class</span> <span class="rules">{
  <span class="rule"><span class="attribute">one</span>:<span class="value"> <span class="number">1</span></span></span>;
}</span>
<span class="class">.class</span> <span class="class">.brass</span> <span class="rules">{
  <span class="rule"><span class="attribute">three</span>:<span class="value"> <span class="number">3</span></span></span>;
}</span>
</code></pre><h3 id="变量插值（Variable_Interpolation）">变量插值（Variable Interpolation）</h3><p>变量除了可以管理值之外，还可以用在许多地方，比如选择器名称，属性名，URLs以及@import语句中。例如：</p>
<pre><code><span class="comment">// 变量</span>
<span class="variable">@mySelector:</span> banner;
<span class="variable">@images:</span> <span class="string">"../img"</span>;
<span class="variable">@property:</span> color;


<span class="comment">// 用法</span>
<span class="class">.@{mySelector}</span> {
  <span class="tag">background</span>: <span class="tag">url</span>(<span class="string">"@{images}/white-sand.png"</span>);
  <span class="variable">@{property}</span>: <span class="id">#0ee</span>;
    <span class="tag">background-</span><span class="variable">@{property}</span>: <span class="id">#999</span>;
  <span class="tag">font-weight</span>: <span class="tag">bold</span>;
  <span class="tag">line-height</span>: <span class="tag">40px</span>;
  <span class="tag">margin</span>: <span class="tag">0</span> <span class="tag">auto</span>;

}
</code></pre><p>编译为：</p>
<pre><code><span class="class">.banner</span> <span class="rules">{
  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">url</span>(<span class="string">"../img/white-sand.png"</span>)</span></span>;
  <span class="rule"><span class="attribute">color</span>:<span class="value"><span class="hexcolor">#0ee</span></span></span>;
  <span class="rule"><span class="attribute">background-color</span>:<span class="value"><span class="hexcolor">#999</span></span></span>;
  <span class="rule"><span class="attribute">font-weight</span>:<span class="value"> bold</span></span>;
  <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">40px</span></span></span>;
  <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;
}</span>
</code></pre><p>还可以使用变量来定义变量名：</p>
<pre><code><span class="variable">@fnord:</span>  <span class="string">"I am fnord."</span>;
<span class="variable">@var:</span>    <span class="string">"fnord"</span>;
<span class="attribute">content</span>: <span class="variable">@@var</span>;
</code></pre><p>这会编译为：</p>
<pre><code><span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">"I am fnord."</span></span></span>;
</code></pre><h2 id="Extend(扩展)">Extend(扩展)</h2><p>extend是一个Less伪类，它会合并它所在的选择器和它所匹配的引用。</p>
<p>extend可以附加给一个选择器，也可以放入一个规则集中。它看起来像是一个带选择器参数伪类，也可以使用关键字all选择相邻的选择器。例如：</p>
<pre><code><span class="rule"><span class="attribute">.a</span>:<span class="value"><span class="function">extend</span>(.b) {}

// 上面的代码块与下面这个做一样的事情
.a {
  &amp;:<span class="function">extend</span>(.b)</span></span>;
}

<span class="rule"><span class="attribute">.c</span>:<span class="value"><span class="function">extend</span>(.d all) {
  // 扩展<span class="string">".d"</span>的所有实例，比如<span class="string">".x.d"</span>或者<span class="string">".d.x"</span>
}
.c:<span class="function">extend</span>(.d) {
  // 扩展选择器输出为<span class="string">".d"</span>的唯一实例
}</span></span>
</code></pre><p>它可以包含多个要扩展的类，使用逗号分割即可。</p>
<pre><code>.<span class="keyword">e</span>:extend(.f) {}
.<span class="keyword">e</span>:extend(.<span class="keyword">g</span>) {}

<span class="comment">// 上面的代码与下面的做一样的事情</span>
.<span class="keyword">e</span>:extend(.f, .<span class="keyword">g</span>) {}
</code></pre><p>extend还可以匹配嵌套选择器，比如有下面的Less：</p>
<pre><code><span class="class">.bucket</span> {
  <span class="tag">tr</span> { <span class="comment">// 目标选择器中的嵌套规则</span>
    <span class="attribute">color</span>: blue;
  }
}
<span class="class">.some-class</span><span class="keyword">:extend</span>(<span class="class">.bucket</span> <span class="tag">tr</span>) {} <span class="comment">// 识别嵌套规则</span>
</code></pre><p>输出是：</p>
<pre><code><span class="class">.bucket</span> <span class="tag">tr</span>,
<span class="class">.some-class</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
}</span>
</code></pre><h3 id="extend准确匹配">extend准确匹配</h3><p>Extend默认会在选择器之间寻找精确匹配。它不管选择器是以星号开始还是不是。它也不管两个nth表达式（1n+3 和 n+3不能匹配）是否具有相同的意义，它们必须以相同的形式匹配。唯一例外的是属性选择器中的引号，less会知道它们是相同的，然后匹配它。例如：</p>
<pre><code><span class="class">.a</span><span class="class">.class</span>,
<span class="class">.class</span><span class="class">.a</span>,
<span class="class">.class</span> &gt; <span class="class">.a</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
}</span>
*<span class="class">.class</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
}</span>

<span class="rule"><span class="attribute">.test</span>:<span class="value"><span class="function">extend</span>(.class) {} // 不会匹配上面的任何选择器的值</span></span>
</code></pre><h3 id="Extend_all">Extend all</h3><p>当你在extend参数的最后面指定all关键字时，它会告诉告诉匹配作为其他选择器一部分的选择器。这个选择器会被复制，然后匹配的选择器部分会使用扩展替换，创建一个新的选择器。例如：</p>
<pre><code><span class="class">.a</span><span class="class">.b</span><span class="class">.test</span>,
<span class="class">.test</span><span class="class">.c</span> {
  <span class="attribute">color</span>: orange;
}
<span class="class">.test</span> {
  <span class="keyword">&amp;</span><span class="pseudo">:hover</span> {
    <span class="attribute">color</span>: green;
  }
}

<span class="class">.replacement</span><span class="keyword">:extend</span>(<span class="class">.test</span> <span class="keyword">all</span>) {}
</code></pre><p>输出：</p>
<pre><code><span class="class">.a</span><span class="class">.b</span><span class="class">.test</span>,
<span class="class">.test</span><span class="class">.c</span>,
<span class="class">.a</span><span class="class">.b</span><span class="class">.replacement</span>,
<span class="class">.replacement</span><span class="class">.c</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> orange</span></span>;
}</span>
<span class="rule"><span class="attribute">.test</span>:<span class="value">hover,
.replacement:hover {
  color: green</span></span>;
}
</code></pre><h3 id="Extend中的选择器插值">Extend中的选择器插值</h3><p>Extend不能匹配变量选择器。如果选择器包含变量，extend会忽略它。但是extend可以附加给插值选择器。例如：</p>
<pre><code><span class="variable">@variable:</span> .bucket;
<span class="variable">@{variable}</span> { <span class="comment">// 插值选择器</span>
  <span class="attribute">color</span>: blue;
}
<span class="class">.some-class</span><span class="keyword">:extend</span>(<span class="class">.bucket</span>) {} <span class="comment">// 找不到匹配</span>
</code></pre><p>:extend 附加给插值选择器是能够工作的：</p>
<pre><code><span class="class">.bucket</span> {
  <span class="attribute">color</span>: blue;
}
<span class="variable">@{variable}</span><span class="keyword">:extend</span>(<span class="class">.bucket</span>) {}
<span class="variable">@variable:</span> .selector;
</code></pre><p>上面的例子会编译为：</p>
<pre><code><span class="class">.bucket</span>, <span class="class">.selector</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
}</span>
</code></pre><h3 id="作用域/@media内的extend">作用域/@media内的extend</h3><p>编写在media声明内的extend也应该只匹配同一media声明内的选择器；</p>
<p>编写在media声明内的extend不会匹配嵌套声明内的选择器：</p>
<pre><code><span class="at_rule">@media</span> screen {
  <span class="class">.screenClass</span><span class="keyword">:extend</span>(<span class="class">.selector</span>) {} <span class="comment">// media内的extend</span>
  <span class="at_rule">@media</span> (<span class="attribute">min-width</span>: <span class="number">1023px</span>) {
    <span class="class">.selector</span> {  <span class="comment">// 嵌套media内的规则 - extend会忽略它</span>
      <span class="attribute">color</span>: blue;
    }
  }
}
</code></pre><p>顶级extend匹配一切，包括media嵌套内的选择器：</p>
<pre><code><span class="at_rule">@<span class="keyword">media</span> screen </span>{
  <span class="class">.selector</span> <span class="rules">{  <span class="comment">/* media嵌套内的规则 - 顶级extend正常工作 */</span>
    <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
  }</span>
  <span class="at_rule">@<span class="keyword">media</span> (min-width: <span class="number">1023px</span>) </span>{
    <span class="class">.selector</span> <span class="rules">{  <span class="comment">/* media嵌套内的规则 - 顶级extend正常工作 */</span>
      <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
    }</span>
  }
}

<span class="rule"><span class="attribute">.topLevel</span>:<span class="value"><span class="function">extend</span>(.selector) {} <span class="comment">/* 顶级extend匹配一切 */</span></span></span>
</code></pre><p>编译为：</p>
<pre><code><span class="at_rule">@<span class="keyword">media</span> screen </span>{
  <span class="class">.selector</span>,
  <span class="class">.topLevel</span> <span class="rules">{ <span class="comment">/* media嵌套内的规则被扩展了 */</span>
    <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
  }</span>
}
<span class="at_rule">@<span class="keyword">media</span> screen and (min-width: <span class="number">1023px</span>) </span>{
  <span class="class">.selector</span>,
  <span class="class">.topLevel</span> <span class="rules">{ <span class="comment">/* media嵌套内的规则被扩展了 */</span>
    <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
  }</span>
}
</code></pre><p>不存在重复检测。</p>
<h2 id="混合（Mixins）">混合（Mixins）</h2><p>可以混合“类”选择器或者“id”选择器，例如：</p>
<pre><code><span class="class">.a</span>, <span class="id">#b</span> {
  <span class="attribute">color</span>: red;
}
<span class="class">.mixin-class</span> {
  <span class="class">.a</span>();
}
<span class="class">.mixin-id</span> {
  <span class="id">#b</span>();
}
</code></pre><p>输出：</p>
<pre><code><span class="class">.a</span>, <span class="id">#b</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;
}</span>
<span class="class">.mixin-class</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;
}</span>
<span class="class">.mixin-id</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;
}</span>
</code></pre><h3 id="不输出混合集">不输出混合集</h3><p>在混合集的名字后面加上一个括号。例如：</p>
<pre><code><span class="class">.my-mixin</span> {
  <span class="attribute">color</span>: black;
}
<span class="class">.my-other-mixin</span>() {
  <span class="attribute">background</span>: white;
}
<span class="class">.class</span> {
  <span class="class">.my-mixin</span>;
  <span class="class">.my-other-mixin</span>;
}
</code></pre><p>输出：</p>
<pre><code><span class="class">.my-mixin</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> black</span></span>;
}</span>
<span class="class">.class</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> black</span></span>;
  <span class="rule"><span class="attribute">background</span>:<span class="value"> white</span></span>;
}</span>
</code></pre><h3 id="带选择器的混合集">带选择器的混合集</h3><p>混合集不仅可以包含各种属性，而且可以包括各种选择器。</p>
<pre><code><span class="class">.my-hover-mixin</span>() {
  <span class="keyword">&amp;</span><span class="pseudo">:hover</span> {
    <span class="attribute">border</span>: <span class="number">1px</span> solid red;
  }
}
<span class="tag">button</span> {
  <span class="class">.my-hover-mixin</span>();
}
</code></pre><p>结果为：</p>
<pre><code><span class="tag">button</span><span class="pseudo">:hover</span> {
  <span class="attribute">border</span>: <span class="number">1px</span> solid red;
}
</code></pre><h3 id="命名空间">命名空间</h3><p>如果你想要将属性混合到比较复杂的选择器中，你可以通过嵌套多层id或者class。</p>
<h3 id="!important关键字">!important关键字</h3><p>在调用的混合集后面追加 !important 关键字，可以使混合集里面的所有属性都继承 !important。例如：</p>
<pre><code><span class="class">.foo</span> (<span class="variable">@bg</span>: <span class="hexcolor">#f5f5f5</span>, <span class="variable">@color</span>: <span class="hexcolor">#900</span>) {
  <span class="attribute">background</span>: <span class="variable">@bg</span>;
  <span class="attribute">color</span>: <span class="variable">@color</span>;
}
<span class="class">.unimportant</span> {
  <span class="class">.foo</span>();
}
<span class="class">.important</span> {
  <span class="class">.foo</span>() !important;
}
</code></pre><p>结果为:</p>
<pre><code><span class="class">.unimportant</span> <span class="rules">{
  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#f5f5f5</span></span></span>;
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#900</span></span></span>;
}</span>
<span class="class">.important</span> <span class="rules">{
  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#f5f5f5</span> <span class="important">!important</span></span></span>;
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#900</span> <span class="important">!important</span></span></span>;
}</span>
</code></pre><h2 id="带参混合（Parametric_Mixins）">带参混合（Parametric Mixins）</h2><p>mixins也可以接受参数，在它进行mix in操作时会将变量传递给选择器代码块。对于这些进行mixin操作的参数也可以有默认值.</p>
<h3 id="多个参数">多个参数</h3><p>参数可以用分号或者逗号分割。但是推荐使用分号分割。因为逗号符号有两个意思：它可以解释为mixins参数分隔符或者css列表分隔符。</p>
<p>使用逗号作为mixin的分隔符则无法用它创建逗号分割的参数列表。换句话说，如果编译器在mixin调用或者声明中看到至少一个分号，它会假设参数是由分号分割的，而所有的逗号都属于CSS列表:</p>
<pre><code>两个参数，并且每个参数都是逗号分割的CSS列表：.name(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;something, ele)
</code></pre><p>定义多个具有相同名称和参数数量的mixins是合法的。Less会使用它可以匹配的所有mixins。例如：</p>
<pre><code><span class="class">.mixin</span>(<span class="variable">@color</span>) {
  <span class="attribute">color-1</span>: <span class="variable">@color</span>;
}
<span class="class">.mixin</span>(<span class="variable">@color</span>; <span class="variable">@padding</span>:<span class="number">2</span>) {
  <span class="attribute">color-2</span>: <span class="variable">@color</span>;
  <span class="attribute">padding-2</span>: <span class="variable">@padding</span>;
}
<span class="class">.mixin</span>(<span class="variable">@color</span>; <span class="variable">@padding</span>; <span class="variable">@margin</span>: <span class="number">2</span>) {
  <span class="attribute">color-3</span>: <span class="variable">@color</span>;
  <span class="attribute">padding-3</span>: <span class="variable">@padding</span>;
  <span class="attribute">margin</span>: <span class="variable">@margin</span> <span class="variable">@margin</span> <span class="variable">@margin</span> <span class="variable">@margin</span>;
}
<span class="class">.some</span> <span class="class">.selector</span> <span class="tag">div</span> {
  <span class="class">.mixin</span>(<span class="hexcolor">#008000</span>);
}
</code></pre><p>会编译为:</p>
<pre><code><span class="class">.some</span> <span class="class">.selector</span> <span class="tag">div</span> {
  <span class="attribute">color-1</span>: <span class="hexcolor">#008000</span>;
  <span class="attribute">color-2</span>: <span class="hexcolor">#008000</span>;
  <span class="attribute">padding-2</span>: <span class="number">2</span>;
}
</code></pre><h3 id="命名参数">命名参数</h3><p>引用mixin时可以通过参数名称而不是参数的位置来为mixin提供参数值。任何参数都已通过它的名称来引用，这样就不必按照任意特定的顺序来使用参数：</p>
<pre><code><span class="class">.mixin</span>(<span class="variable">@color</span>: black; <span class="variable">@margin</span>: <span class="number">10px</span>; <span class="variable">@padding</span>: <span class="number">20px</span>) {
  <span class="attribute">color</span>: <span class="variable">@color</span>;
  <span class="attribute">margin</span>: <span class="variable">@margin</span>;
  <span class="attribute">padding</span>: <span class="variable">@padding</span>;
}
<span class="class">.class1</span> {
  <span class="class">.mixin</span>(<span class="variable">@margin</span>: <span class="number">20px</span>; <span class="variable">@color</span>: <span class="hexcolor">#33acfe</span>);
}
<span class="class">.class2</span> {
  <span class="class">.mixin</span>(<span class="hexcolor">#efca44</span>; <span class="variable">@padding</span>: <span class="number">40px</span>);
}
</code></pre><p>会编译为：</p>
<pre><code><span class="class">.class1</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#33acfe</span></span></span>;
  <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">20px</span></span></span>;
  <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">20px</span></span></span>;
}</span>
<span class="class">.class2</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#efca44</span></span></span>;
  <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">10px</span></span></span>;
  <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">40px</span></span></span>;
}</span>
</code></pre><h3 id="@arguments变量">@arguments变量</h3><p>@arguments在mixins内部有特殊意义，调用mixin时，它包含所有传入的参数。如果你不想单个单个的处理参数，这一特性是很有用的：</p>
<pre><code><span class="class">.box-shadow</span>(<span class="variable">@x</span>: <span class="number">0</span>; <span class="variable">@y</span>: <span class="number">0</span>; <span class="variable">@blur</span>: <span class="number">1px</span>; <span class="variable">@color</span>: <span class="hexcolor">#000</span>) {
  <span class="attribute">-webkit-box-shadow</span>: <span class="variable">@arguments</span>;
     <span class="attribute">-moz-box-shadow</span>: <span class="variable">@arguments</span>;
          <span class="attribute">box-shadow</span>: <span class="variable">@arguments</span>;
}
<span class="class">.big-block</span> {
  <span class="class">.box-shadow</span>(<span class="number">2px</span>; <span class="number">5px</span>);
}
</code></pre><p>结果是：</p>
<pre><code>.big-block {
  -webkit-box-shadow: <span class="number">2</span>px <span class="number">5</span>px <span class="number">1</span>px <span class="preprocessor">#<span class="number">000</span>;</span>
     -moz-box-shadow: <span class="number">2</span>px <span class="number">5</span>px <span class="number">1</span>px <span class="preprocessor">#<span class="number">000</span>;</span>
          box-shadow: <span class="number">2</span>px <span class="number">5</span>px <span class="number">1</span>px <span class="preprocessor">#<span class="number">000</span>;</span>
}
</code></pre><h3 id="高级参数和@rest变量">高级参数和@rest变量</h3><p>如果你希望你的mixin接受数量不定的参数，你可以使用…。在变量名后面使用它，它会将这些参数分配给变量。</p>
<pre><code><span class="class">.mixin</span>(...) {        <span class="comment">// matches 0-N arguments</span>
<span class="class">.mixin</span>() {           <span class="comment">// matches exactly 0 arguments</span>
<span class="class">.mixin</span>(<span class="variable">@a</span>: <span class="number">1</span>) {      <span class="comment">// matches 0-1 arguments</span>
<span class="class">.mixin</span>(<span class="variable">@a</span>: <span class="number">1</span>; ...) { <span class="comment">// matches 0-N arguments</span>
<span class="class">.mixin</span>(<span class="variable">@a</span>; ...) {    <span class="comment">// matches 1-N arguments</span>
</code></pre><p>此外：</p>
<pre><code><span class="class">.mixin</span>(<span class="variable">@a</span>; <span class="variable">@rest</span>...) {
   <span class="comment">// @rest 会绑定到参数 @a 之后</span>
   <span class="comment">// 而@arguments是绑定所有参数</span>
}
</code></pre><h3 id="模式匹配">模式匹配</h3><p>有时候，你可能想要基于你传递给它的参数改变mixin的行为。比方说你想要.mixin基于@switch的值以不同的方式表现，你可这样定义这个mixin：</p>
<pre><code><span class="class">.mixin</span>(dark; <span class="variable">@color</span>) {
  <span class="attribute">color</span>: <span class="function">darken</span>(<span class="variable">@color</span>, <span class="number">10%</span>);
}
<span class="class">.mixin</span>(light; <span class="variable">@color</span>) {
  <span class="attribute">color</span>: <span class="function">lighten</span>(<span class="variable">@color</span>, <span class="number">10%</span>);
}
<span class="class">.mixin</span>(<span class="variable">@_</span>; <span class="variable">@color</span>) {
  <span class="attribute">display</span>: block;
}
</code></pre><p>现在，如果运行它：</p>
<pre><code><span class="variable">@switch:</span> light;

<span class="class">.class</span> {
  <span class="class">.mixin</span>(<span class="variable">@switch</span>; <span class="hexcolor">#888</span>);
}
</code></pre><p>这将得到如下CSS：</p>
<pre><code><span class="class">.class</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#a2a2a2</span></span></span>;
  <span class="rule"><span class="attribute">display</span>:<span class="value"> block</span></span>;
}</span>
</code></pre><h2 id="作为函数使用的Mixins(Mixinss_as_Functions)">作为函数使用的Mixins(Mixinss as Functions)</h2><p>所有定义在一个mixin中的变量都是可见的，在调用域中都可以使用。定义在mixin中的变量还可以充当它的返回值。这样就允许我们创建一个用起来类似函数的mixin。</p>
<pre><code><span class="class">.average</span>(<span class="variable">@x</span>, <span class="variable">@y</span>) {
  <span class="variable">@average:</span> ((<span class="variable">@x</span> + <span class="variable">@y</span>) / <span class="number">2</span>);
}

<span class="tag">div</span> {
  <span class="class">.average</span>(<span class="number">16px</span>, <span class="number">50px</span>); <span class="comment">// "call" the mixin</span>
  <span class="attribute">padding</span>: <span class="variable">@average</span>;    <span class="comment">// use its "return" value</span>
}
</code></pre><p>结果：</p>
<pre><code><span class="tag">div</span> <span class="rules">{
  <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">33px</span></span></span>;
}</span>
</code></pre><h2 id="Passing_Rulesets_to_Mixins">Passing Rulesets to Mixins</h2><p>你可能希望定义一个mixin将一个媒体查询中的一个代码块或者一个浏览器不支持的类名抽象出来。现在，你可以传递规则集给mixin，然后该mixin会包装这些规则集。比如：</p>
<pre><code><span class="class">.desktop-and-old-ie</span>(<span class="variable">@rules</span>) {
  <span class="at_rule">@media</span> screen and (<span class="attribute">min-width</span>: <span class="number">1200</span>) { <span class="variable">@rules</span>(); }
  <span class="tag">html</span><span class="class">.lt-ie9</span> <span class="keyword">&amp;</span>                       { <span class="variable">@rules</span>(); }
}

<span class="tag">header</span> {
  <span class="attribute">background-color</span>: blue;

  <span class="class">.desktop-and-old-ie</span>({
    <span class="attribute">background-color</span>: red;
  });
}
</code></pre><p>这里的desktop-and-old-ie mixin定义了媒体查询和祖先类，因此你可以使用mixin来包装一段代码。上面这段代码会输出：</p>
<pre><code><span class="tag">header</span> <span class="rules">{
  <span class="rule"><span class="attribute">background-color</span>:<span class="value"> blue</span></span>;
}</span>
<span class="at_rule">@<span class="keyword">media</span> screen and (min-width: <span class="number">1200</span>) </span>{
  <span class="tag">header</span> <span class="rules">{
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> red</span></span>;
  }</span>
}
<span class="tag">html</span><span class="class">.lt-ie9</span> <span class="tag">header</span> <span class="rules">{
  <span class="rule"><span class="attribute">background-color</span>:<span class="value"> red</span></span>;
}</span>
</code></pre><p>A ruleset can be now assigned to a variable or passed in to a mixin and can contain the full set of less features, e.g.</p>
<pre><code><span class="variable">@my-ruleset:</span> {
    <span class="class">.my-selector</span> {
      <span class="attribute">background-color</span>: black;
    }
  };
</code></pre><p>You can even take advantage of media query bubbling, for instance</p>
<pre><code><span class="at_rule">@<span class="keyword">media</span> (orientation: portrait) and tv </span>{
  <span class="class">.my-selector</span> <span class="rules">{
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> black</span></span>;
  }</span>
}
</code></pre><p>which will output</p>
<pre><code><span class="variable">@my-ruleset:</span> {
    <span class="class">.my-selector</span> {
      <span class="at_rule">@media</span> tv {
        <span class="attribute">background-color</span>: black;
      }
    }
  };
<span class="at_rule">@media</span> (<span class="attribute">orientation</span>:portrait) {
    <span class="variable">@my-ruleset</span>();
}
</code></pre><p>这边不懂哎。。。。</p>
<h2 id="Import_Directives">Import Directives</h2><p>从其他样式表中导入样式。Less.js不在乎你把@import语句放在什么位置。</p>
<h3 id="文件扩展名">文件扩展名</h3><p>@import语句会通过Less依赖文件扩展名的方式区别对待不同的文件：</p>
<ol>
<li>如果文件有一个.css扩展名，则将它作为CSS对象，同时@import语句保持不变（查看下面的inline选项）</li>
<li>如果有其他扩展名，则作为Less对象，然后导入它。</li>
<li>如果没有扩展名，则插入.less，然后将它作为Less文件导入包含进来。</li>
</ol>
<h2 id="Import_Options">Import Options</h2><p>Less提供了一系列的CSS扩展来让你使用@import更灵活的导入第三方CSS文件。语法：</p>
<pre><code><span class="at_rule">@<span class="keyword">import</span> (keyword) <span class="string">"filename"</span></span>;
</code></pre><p>下面导入指令已经被实现了：</p>
<pre><code>reference：使用<span class="operator">Less</span>文件但不输出
inline：在输出中包含源文件但不加工它
<span class="operator">less</span>：将文件作为<span class="operator">Less</span>文件对象，无论是什么文件扩展名
css：将文件作为CSS文件对象，无论是什么文件扩展名
once：只包含文件一次（默认行为）
multiple：包含文件多次
</code></pre><h3 id="reference">reference</h3><p>使用@import (reference)导入外部文件，但是不添加导入的样式到编译输出中，只引用。</p>
<h3 id="inline">inline</h3><p>使用@import (inline)引入外部文件，但不加工他们。</p>
<p>当一个CSS文件可能不兼容Less的时候可以使用这一技术，这是因为尽管Less支持大多数熟知的标准的CSS，但是在有些地方它还是不支持注释，在不修改CSS的情况下它也不支持所有已知的CSS hacks。</p>
<p>因此你可以使用它来在输出中引入文件，最终CSS文件都会在一个地方。</p>
<h3 id="less">less</h3><p>使用@import (less)会将导入的文件作为Less文件对象，不管文件扩展名是什么。</p>
<h3 id="css">css</h3><p>使用@import (css)会将带入的文件作为普通的CSS文件对象，也不会管扩展名是什么。</p>
<h3 id="once">once</h3><p>@import语句的默认行为。这意味着文件只会被导入一次，而随后的导入文件的语句都会被忽略。@import的默认行为。</p>
<h3 id="multiple">multiple</h3><p>使用@import (multiple)允许导入多个同名文件。这与只能导入一次的行为是对立的。例如：</p>
<pre><code><span class="comment">// file: foo.less</span>
<span class="class">.a</span> {
  <span class="attribute">color</span><span class="value">: green;</span>
}
<span class="comment">// file: main.less</span>
<span class="at_rule">@<span class="keyword">import</span> (multiple) <span class="string">"foo.less"</span>;</span>
<span class="at_rule">@<span class="keyword">import</span> (multiple) <span class="string">"foo.less"</span>;</span>
</code></pre><p>输出：</p>
<pre><code><span class="class">.a</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> green</span></span>;
}</span>
<span class="class">.a</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> green</span></span>;
}</span>
</code></pre><h2 id="Mixin_Guards">Mixin Guards</h2><p>当你想要匹配表达式，而不是简单的值或者参数数量时，guard是很有用的。</p>
<pre><code><span class="class">.mixin</span> (<span class="variable">@a</span>) <span class="keyword">when</span> (<span class="function">lightness</span>(<span class="variable">@a</span>) &gt;= <span class="number">50%</span>) {
  <span class="attribute">background-color</span>: black;
}
<span class="class">.mixin</span> (<span class="variable">@a</span>) <span class="keyword">when</span> (<span class="function">lightness</span>(<span class="variable">@a</span>) &lt; <span class="number">50%</span>) {
  <span class="attribute">background-color</span>: white;
}
<span class="class">.mixin</span> (<span class="variable">@a</span>) {
  <span class="attribute">color</span>: <span class="variable">@a</span>;
}
</code></pre><p>这里有一个when关键字，它引进了一个guard序列（在这里只有一个guard）。现在，假设我们运行以下代码：</p>
<pre><code><span class="class">.class1</span> { <span class="class">.mixin</span>(<span class="hexcolor">#ddd</span>) }
<span class="class">.class2</span> { <span class="class">.mixin</span>(<span class="hexcolor">#555</span>) }
</code></pre><p>会得到：</p>
<pre><code><span class="class">.class1</span> <span class="rules">{
  <span class="rule"><span class="attribute">background-color</span>:<span class="value"> black</span></span>;
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#ddd</span></span></span>;
}</span>
<span class="class">.class2</span> <span class="rules">{
  <span class="rule"><span class="attribute">background-color</span>:<span class="value"> white</span></span>;
  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#555</span></span></span>;
}</span>
</code></pre><h3 id="Guard中的比较运算符">Guard中的比较运算符</h3><p>guards中可用的比较运算符的完整列表为： &gt;, &gt;=, =, =&lt;, &lt;。此外，关键字true是让两个mixins等价的唯一真值，除了关键字true，其他任何值都是假值。</p>
<p>Guards可以使用逗号,分割，如果任何一个guards（逗号分隔的多个guards）求值为true，它就被认为是一个相等的匹配。</p>
<h3 id="Guard_logical_operators">Guard logical operators</h3><p>You can use logical operators with guards. The syntax is based on CSS media queries.</p>
<p>Use the and keyword to combine guards</p>
<p>You can emulate the or operator by separating guards with a comma ,. If any of the guards evaluate to true, it’s considered a match</p>
<p>Use the not keyword to negate conditions</p>
<h3 id="类型检查">类型检查</h3><p>如果你想基于值类型匹配mixins，那么你可以使用is函数.例如：</p>
<pre><code><span class="class">.mixin</span> (<span class="variable">@a</span>; <span class="variable">@b</span>: <span class="number">0</span>) <span class="keyword">when</span> (<span class="function">isnumber</span>(<span class="variable">@b</span>)) { ... }
<span class="class">.mixin</span> (<span class="variable">@a</span>; <span class="variable">@b</span>: black) <span class="keyword">when</span> (<span class="function">iscolor</span>(<span class="variable">@b</span>)) { ... }
</code></pre><h3 id="带条件的mixins">带条件的mixins</h3><p>此外，default函数可以用于让一个mixin匹配依赖于其他mixin匹配，然后你可以使用它来创建类似于else或者default语句（分别属于if和case结构）的“条件式mixins”：</p>
<pre><code><span class="class">.mixin</span> (<span class="variable">@a</span>) <span class="keyword">when</span> (<span class="variable">@a</span> &gt; <span class="number">0</span>) { ...  }
<span class="class">.mixin</span> (<span class="variable">@a</span>) <span class="keyword">when</span> (<span class="function">default</span>()) { ... } <span class="comment">// matches only if first mixin does not, i.e. when @a &lt;= 0</span>
</code></pre><h2 id="CSS_Guards">CSS Guards</h2><p>约束也适用于CSS选择器</p>
<pre><code><span class="tag">button</span> <span class="keyword">when</span> (<span class="variable">@my-option</span> = true) {
  <span class="attribute">color</span>: white;
}
</code></pre><p>你还可以通过与&amp;特性结合实现’if’类型的语句，从而允许组合多个约束。</p>
<pre><code><span class="keyword">&amp;</span> <span class="keyword">when</span> (<span class="variable">@my-option</span> = true) {
  <span class="tag">button</span> {
    <span class="attribute">color</span>: white;
  }
  <span class="tag">a</span> {
    <span class="attribute">color</span>: blue;
  }
}
</code></pre><h2 id="Loops">Loops</h2><p>在Less中，混合可以调用它自身。这样，当一个混合递归调用自己，再结合Guard表达式和模式匹配这两个特性，就可以写出循环结构。</p>
<p>使用递归循环最常见的情况就是生成栅格系统的CSS：</p>
<pre><code><span class="class">.generate-columns</span>(<span class="number">4</span>);

<span class="class">.generate-columns</span>(<span class="variable">@n</span>, <span class="variable">@i</span>: <span class="number">1</span>) <span class="keyword">when</span> (<span class="variable">@i</span> =&lt; <span class="variable">@n</span>) {
  <span class="class">.column-</span><span class="variable">@{i}</span> {
    <span class="attribute">width</span>: (<span class="variable">@i</span> * <span class="number">100%</span> / <span class="variable">@n</span>);
  }
  <span class="class">.generate-columns</span>(<span class="variable">@n</span>, (<span class="variable">@i</span> + <span class="number">1</span>));
}
</code></pre><p>输出：</p>
<pre><code><span class="class">.column-1</span> <span class="rules">{
  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">25%</span></span></span>;
}</span>
<span class="class">.column-2</span> <span class="rules">{
  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">50%</span></span></span>;
}</span>
<span class="class">.column-3</span> <span class="rules">{
  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">75%</span></span></span>;
}</span>
<span class="class">.column-4</span> <span class="rules">{
  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100%</span></span></span>;
}</span>
</code></pre><h2 id="Merge">Merge</h2><p>merge特性可以从多个属性中将值集合集合到一个单一属性之下的逗号或空格分割属性列表中。对于诸如background和transform之类的属性来说，merge非常有用。</p>
<h3 id="逗号">逗号</h3><p>示例：</p>
<pre><code>.mixin() {
  box-shadow+: inset <span class="number">0</span> <span class="number">0</span> <span class="number">10</span>px <span class="preprocessor">#<span class="number">555</span>;</span>
}
.myclass {
  .mixin();
  box-shadow+: <span class="number">0</span> <span class="number">0</span> <span class="number">20</span>px black;
}
</code></pre><p>输出：</p>
<pre><code>.myclass {
  box-shadow: inset <span class="number">0</span> <span class="number">0</span> <span class="number">10</span>px <span class="preprocessor">#<span class="number">555</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">20</span>px black;</span>
}
</code></pre><h3 id="空格">空格</h3><pre><code><span class="class">.mixin</span>() {
  <span class="attribute">transform</span>+_<span class="value">: <span class="function">scale</span>(<span class="number">2</span>);</span>
}
<span class="class">.myclass</span> {
  <span class="class">.mixin</span>();
  <span class="attribute">transform</span>+_<span class="value">: <span class="function">rotate</span>(<span class="number">15deg</span>);</span>
}
</code></pre><p>Outputs</p>
<pre><code><span class="class">.myclass</span> <span class="rules">{
  <span class="rule"><span class="attribute">transform</span>:<span class="value"> <span class="function">scale</span>(<span class="number">2</span>) <span class="function">rotate</span>(<span class="number">15deg</span>)</span></span>;
}</span>
</code></pre><p>为避免任何非有意的添加，merge需要在每个待加入的声明中显示的设置一个+或者+_标记。</p>
<h2 id="Parent_Selectors">Parent Selectors</h2><p>&amp;运算符表示一个嵌套规则的父选择器，它在应用修改类或者应用伪类给现有选择器时最常用。</p>
<pre><code><span class="tag">a</span> {
  <span class="attribute">color</span>: blue;
  <span class="keyword">&amp;</span><span class="pseudo">:hover</span> {
    <span class="attribute">color</span>: green;
  }
}
</code></pre><p>结果为：</p>
<pre><code><span class="tag">a</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
}</span>

<span class="rule"><span class="attribute">a</span>:<span class="value">hover {
  color: green</span></span>;
}
</code></pre><p>注意，如果上面的示例没有使用&amp;，那么它的结果就是a :hover（一个匹配&lt;a&gt;标签内的hovered元素的后代选择器），这通常并不是我么想要的嵌套的:hover的结果。</p>
<p>“父选择器”有各种各样的用法。基本上，任何时候你都需要以不同的方式来组合选择器嵌套的规则，而不是默认规则。比如，一个使用&amp;的典型的场景就是生成重复的类名：</p>
<pre><code><span class="class">.button</span> {
  <span class="keyword">&amp;</span><span class="tag">-ok</span> {
    <span class="attribute">background-image</span>: <span class="function">url</span>(<span class="string">"ok.png"</span>);
  }
  <span class="keyword">&amp;</span><span class="tag">-cancel</span> {
    <span class="attribute">background-image</span>: <span class="function">url</span>(<span class="string">"cancel.png"</span>);
  }

  <span class="keyword">&amp;</span><span class="tag">-custom</span> {
    <span class="attribute">background-image</span>: <span class="function">url</span>(<span class="string">"custom.png"</span>);
  }
}
</code></pre><h3 id="多个&amp;">多个&amp;</h3><p>&amp;可以在一个选择器中出现不止一次。这就使得它可以反复引用父选择器，而不是重复父选择器的类名。</p>
<pre><code><span class="class">.link</span> {
  <span class="keyword">&amp;</span> + <span class="keyword">&amp;</span> {
    <span class="attribute">color</span>: red;
  }

  <span class="keyword">&amp;</span> <span class="keyword">&amp;</span> {
    <span class="attribute">color</span>: green;
  }

  <span class="keyword">&amp;</span><span class="keyword">&amp;</span> {
    <span class="attribute">color</span>: blue;
  }

  <span class="keyword">&amp;</span>, <span class="keyword">&amp;</span><span class="tag">ish</span> {
    <span class="attribute">color</span>: cyan;
  }
}
</code></pre><p>这会输出：</p>
<pre><code><span class="class">.link</span> + <span class="class">.link</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;
}</span>
<span class="class">.link</span> <span class="class">.link</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> green</span></span>;
}</span>
<span class="class">.link</span><span class="class">.link</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
}</span>
<span class="class">.link</span>, <span class="class">.linkish</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> cyan</span></span>;
}</span>
</code></pre><p>注意，&amp;代表所有的父选择器（而不只是最近的长辈），因此下面的例子：</p>
<pre><code><span class="class">.grand</span> {
  <span class="class">.parent</span> {
    <span class="keyword">&amp;</span> &gt; <span class="keyword">&amp;</span> {
      <span class="attribute">color</span>: red;
    }

    <span class="keyword">&amp;</span> <span class="keyword">&amp;</span> {
      <span class="attribute">color</span>: green;
    }

    <span class="keyword">&amp;</span><span class="keyword">&amp;</span> {
      <span class="attribute">color</span>: blue;
    }

    <span class="keyword">&amp;</span>, <span class="keyword">&amp;</span><span class="tag">ish</span> {
      <span class="attribute">color</span>: cyan;
    }
  }
}
</code></pre><p>结果为：</p>
<pre><code><span class="class">.grand</span> <span class="class">.parent</span> &gt; <span class="class">.grand</span> <span class="class">.parent</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> red</span></span>;
}</span>
<span class="class">.grand</span> <span class="class">.parent</span> <span class="class">.grand</span> <span class="class">.parent</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> green</span></span>;
}</span>
<span class="class">.grand</span> <span class="class">.parent</span><span class="class">.grand</span> <span class="class">.parent</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> blue</span></span>;
}</span>
<span class="class">.grand</span> <span class="class">.parent</span>,
<span class="class">.grand</span> <span class="class">.parentish</span> <span class="rules">{
  <span class="rule"><span class="attribute">color</span>:<span class="value"> cyan</span></span>;
}</span>
</code></pre><h3 id="改变选择器顺序">改变选择器顺序</h3><p>要前置插入一个选择器给继承的(父)选择器时它是很有用的。用过将&amp;放到当前选择器之后就可以做到这一点。比如：</p>
<pre><code><span class="class">.header</span> {
  <span class="class">.menu</span> {
    <span class="attribute">border-radius</span>: <span class="number">5px</span>;
    <span class="class">.no-borderradius</span> <span class="keyword">&amp;</span> {
      <span class="attribute">background-image</span>: <span class="function">url</span>(<span class="string">'images/button-background.png'</span>);
    }
  }
}
</code></pre><p>选择器.no-borderradius &amp;会前置插入.no-borderradius给它的父选择器.header .menu，最后变成.no-borderradius .header .menu形式输出：</p>
<pre><code><span class="class">.header</span> <span class="class">.menu</span> <span class="rules">{
  <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">5px</span></span></span>;
}</span>
<span class="class">.no-borderradius</span> <span class="class">.header</span> <span class="class">.menu</span> <span class="rules">{
  <span class="rule"><span class="attribute">background-image</span>:<span class="value"> <span class="function">url</span>(<span class="string">'images/button-background.png'</span>)</span></span>;
}</span>
</code></pre><h3 id="组合使用的爆炸效果">组合使用的爆炸效果</h3><p>&amp;还可以用于生成一个逗号分割列表的所有可能的选择器排列：</p>
<pre><code><span class="tag">p</span>, <span class="tag">a</span>, <span class="tag">ul</span>, <span class="tag">li</span> {
<span class="attribute">border-top</span>: <span class="number">2px</span> dotted <span class="hexcolor">#366</span>;
  <span class="keyword">&amp;</span> + <span class="keyword">&amp;</span> {
      <span class="attribute">border-top</span>: <span class="number">0</span>;
  }
}
</code></pre><p>这个组合可以扩展出指定元素的所有（16种）可能的组合：</p>
<pre><code>p,
<span class="literal">a</span>,
ul,
li {
<span class="label">  border-top:</span> <span class="number">2</span>px dotted #<span class="number">366</span><span class="comment">;</span>
}
p + p,
p + <span class="literal">a</span>,
p + ul,
p + li,
<span class="literal">a</span> + p,
<span class="literal">a</span> + <span class="literal">a</span>,
<span class="literal">a</span> + ul,
<span class="literal">a</span> + li,
ul + p,
ul + <span class="literal">a</span>,
ul + ul,
ul + li,
li + p,
li + <span class="literal">a</span>,
li + ul,
li + li {
<span class="label">  border-top:</span> <span class="number">0</span><span class="comment">;</span>
}
</code></pre>  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Web/">Web</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/CSS/">CSS</a><a href="/tags/Less/">Less</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://xfhnever.com/2014/07/28/less-languagefeatures/" data-title="Less（二）-语言特性 | Never&#39;s Blog" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/07/29/less-functions/" title="Less（三）-内置函数">
  <strong>上一篇：</strong><br/>
  <span>
  Less（三）-内置函数</span>
</a>
</div>


<div class="next">
<a href="/2014/07/28/less-introduction/"  title="Less（一）-简单介绍和使用">
 <strong>下一篇：</strong><br/> 
 <span>Less（一）-简单介绍和使用
</span>
</a>
</div>

</nav>

	
  <section id="comments">
   <!-- 多说评论框 start -->
<div id="ds-thread" class="ds-thread" data-thread-key="2014/07/28/less-languagefeatures/" data-title="Less（二）-语言特性" data-url="http://xfhnever.com/2014/07/28/less-languagefeatures/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"datoublog"};
true(function() {
truetruevar ds = document.createElement('script');
truetrueds.type = 'text/javascript';ds.async = true;
truetrueds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
truetrueds.charset = 'UTF-8';
truetrue(document.getElementsByTagName('head')[0] 
truetrue || document.getElementsByTagName('body')[0]).appendChild(ds);
true})();
true</script>
<!-- 多说公共JS代码 end -->
  </section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#变量(Variables）"><span class="toc-number">1.</span> <span class="toc-text">变量(Variables）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#变量插值（Variable_Interpolation）"><span class="toc-number">1.1.</span> <span class="toc-text">变量插值（Variable Interpolation）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Extend(扩展)"><span class="toc-number">2.</span> <span class="toc-text">Extend(扩展)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#extend准确匹配"><span class="toc-number">2.1.</span> <span class="toc-text">extend准确匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extend_all"><span class="toc-number">2.2.</span> <span class="toc-text">Extend all</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Extend中的选择器插值"><span class="toc-number">2.3.</span> <span class="toc-text">Extend中的选择器插值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#作用域/@media内的extend"><span class="toc-number">2.4.</span> <span class="toc-text">作用域/@media内的extend</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#混合（Mixins）"><span class="toc-number">3.</span> <span class="toc-text">混合（Mixins）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#不输出混合集"><span class="toc-number">3.1.</span> <span class="toc-text">不输出混合集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带选择器的混合集"><span class="toc-number">3.2.</span> <span class="toc-text">带选择器的混合集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命名空间"><span class="toc-number">3.3.</span> <span class="toc-text">命名空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#!important关键字"><span class="toc-number">3.4.</span> <span class="toc-text">!important关键字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#带参混合（Parametric_Mixins）"><span class="toc-number">4.</span> <span class="toc-text">带参混合（Parametric Mixins）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#多个参数"><span class="toc-number">4.1.</span> <span class="toc-text">多个参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命名参数"><span class="toc-number">4.2.</span> <span class="toc-text">命名参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#@arguments变量"><span class="toc-number">4.3.</span> <span class="toc-text">@arguments变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#高级参数和@rest变量"><span class="toc-number">4.4.</span> <span class="toc-text">高级参数和@rest变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模式匹配"><span class="toc-number">4.5.</span> <span class="toc-text">模式匹配</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#作为函数使用的Mixins(Mixinss_as_Functions)"><span class="toc-number">5.</span> <span class="toc-text">作为函数使用的Mixins(Mixinss as Functions)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Passing_Rulesets_to_Mixins"><span class="toc-number">6.</span> <span class="toc-text">Passing Rulesets to Mixins</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Import_Directives"><span class="toc-number">7.</span> <span class="toc-text">Import Directives</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文件扩展名"><span class="toc-number">7.1.</span> <span class="toc-text">文件扩展名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Import_Options"><span class="toc-number">8.</span> <span class="toc-text">Import Options</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#reference"><span class="toc-number">8.1.</span> <span class="toc-text">reference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#inline"><span class="toc-number">8.2.</span> <span class="toc-text">inline</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less"><span class="toc-number">8.3.</span> <span class="toc-text">less</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css"><span class="toc-number">8.4.</span> <span class="toc-text">css</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#once"><span class="toc-number">8.5.</span> <span class="toc-text">once</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#multiple"><span class="toc-number">8.6.</span> <span class="toc-text">multiple</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mixin_Guards"><span class="toc-number">9.</span> <span class="toc-text">Mixin Guards</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Guard中的比较运算符"><span class="toc-number">9.1.</span> <span class="toc-text">Guard中的比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Guard_logical_operators"><span class="toc-number">9.2.</span> <span class="toc-text">Guard logical operators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类型检查"><span class="toc-number">9.3.</span> <span class="toc-text">类型检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带条件的mixins"><span class="toc-number">9.4.</span> <span class="toc-text">带条件的mixins</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS_Guards"><span class="toc-number">10.</span> <span class="toc-text">CSS Guards</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Loops"><span class="toc-number">11.</span> <span class="toc-text">Loops</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Merge"><span class="toc-number">12.</span> <span class="toc-text">Merge</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#逗号"><span class="toc-number">12.1.</span> <span class="toc-text">逗号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#空格"><span class="toc-number">12.2.</span> <span class="toc-text">空格</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Parent_Selectors"><span class="toc-number">13.</span> <span class="toc-text">Parent Selectors</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#多个&"><span class="toc-number">13.1.</span> <span class="toc-text">多个&</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#改变选择器顺序"><span class="toc-number">13.2.</span> <span class="toc-text">改变选择器顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组合使用的爆炸效果"><span class="toc-number">13.3.</span> <span class="toc-text">组合使用的爆炸效果</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Blog/" title="Blog">Blog<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Cocos2D-x/" title="Cocos2D-x">Cocos2D-x<sup>16</sup></a></li>
		  
		
		  
			<li><a href="/categories/DB/" title="DB">DB<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/DSL/" title="DSL">DSL<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/Docker/" title="Docker">Docker<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Framework/" title="Framework">Framework<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Git/" title="Git">Git<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Guava/" title="Guava">Guava<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Http/" title="Http">Http<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/J2EE/" title="J2EE">J2EE<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/JS/" title="JS">JS<sup>34</sup></a></li>
		  
		
		  
			<li><a href="/categories/JSON/" title="JSON">JSON<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/Java/" title="Java">Java<sup>39</sup></a></li>
		  
		
		  
			<li><a href="/categories/Job/" title="Job">Job<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Life/" title="Life">Life<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Mac/" title="Mac">Mac<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Maven/" title="Maven">Maven<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/MongoDB/" title="MongoDB">MongoDB<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Nodejs/" title="Nodejs">Nodejs<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/PHP/" title="PHP">PHP<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/RESTful/" title="RESTful">RESTful<sup>14</sup></a></li>
		  
		
		  
			<li><a href="/categories/Redis/" title="Redis">Redis<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Spring/" title="Spring">Spring<sup>6</sup></a></li>
		  
		
		  
			<li><a href="/categories/Tools/" title="Tools">Tools<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Web/" title="Web">Web<sup>27</sup></a></li>
		  
		
		  
			<li><a href="/categories/XML/" title="XML">XML<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/中间件/" title="中间件">中间件<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/微信公众账号/" title="微信公众账号">微信公众账号<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/算法与数据结构/" title="算法与数据结构">算法与数据结构<sup>18</sup></a></li>
		  
		
		  
			<li><a href="/categories/计算机视觉/" title="计算机视觉">计算机视觉<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/设计模式/" title="设计模式">设计模式<sup>11</sup></a></li>
		  
		
		  
			<li><a href="/categories/软件工程/" title="软件工程">软件工程<sup>13</sup></a></li>
		  
		
		  
			<li><a href="/categories/软件测试/" title="软件测试">软件测试<sup>4</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Java/" title="Java">Java<sup>39</sup></a></li>
			
		
			
				<li><a href="/tags/JS/" title="JS">JS<sup>38</sup></a></li>
			
		
			
				<li><a href="/tags/算法/" title="算法">算法<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/数据结构/" title="数据结构">数据结构<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/CSS/" title="CSS">CSS<sup>18</sup></a></li>
			
		
			
				<li><a href="/tags/REST/" title="REST">REST<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/Cocos2D-x/" title="Cocos2D-x">Cocos2D-x<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/DSL/" title="DSL">DSL<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/RESTful/" title="RESTful">RESTful<sup>14</sup></a></li>
			
		
			
				<li><a href="/tags/MongoDB/" title="MongoDB">MongoDB<sup>12</sup></a></li>
			
		
			
				<li><a href="/tags/Nodejs/" title="Nodejs">Nodejs<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/设计模式/" title="设计模式">设计模式<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/软件工程/" title="软件工程">软件工程<sup>11</sup></a></li>
			
		
			
				<li><a href="/tags/DB/" title="DB">DB<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Refactoring/" title="Refactoring">Refactoring<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Spring/" title="Spring">Spring<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/Tools/" title="Tools">Tools<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/ttpod/" title="ttpod">ttpod<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Framework/" title="Framework">Framework<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Web/" title="Web">Web<sup>6</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://ibeyondy.com/" target="_blank" title="肖总">肖总</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.zhouhaibing.com/" target="_blank" title="海兵">海兵</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.mrdanding.com/" target="_blank" title="大帅">大帅</a>
            
          </li>
        
          <li>
            
            	<a href="http://pegasusxie.github.io/" target="_blank" title="老弟">老弟</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m xiefuheng in Ali Music. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/XFHNever## e.g. wuchong for https://github.com/wuchong" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/2902825## e.g. 3222790 for http://stackoverflow.com/users/3222790/jark" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		
		
		
		
		<a href="http://www.zhihu.com/people/xie-fu-heng-7## e.g. jark  for http://www.zhihu.com/people/jark" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		<a href="https://plus.google.com/XFHNever## e.g. &quot;111190881341800841449&quot; for https://plus.google.com/u/0/111190881341800841449, the &quot;&quot; is needed!?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:xfhnever@gmail.com## e.g. imjark@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="/about" target="_blank" title="Never">Never</a>
		
		<span id="busuanzi_container_site_pv">
		  本站访客数<span id="busuanzi_value_site_uv"></span>人次
		</span>
		</p>
</div>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>



<script type="text/javascript">
  var duoshuoQuery = {short_name:"xfhnever"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-48525416-1', 'auto');  
ga('send', 'pageview');
</script>



<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F44aec948f47dfae8fad66847faefd417' type='text/javascript'%3E%3C/script%3E"));
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
